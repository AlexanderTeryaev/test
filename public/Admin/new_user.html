<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>New User</title>
    <script type="text/javascript" src="https://www.bugherd.com/sidebarv2.js?apikey=qsoryock2pvnkksftvyera" async="true"></script>
    <link href="../css/tailwind.css" rel="stylesheet" />
  </head>
  <body>
    <div class="flex h-screen">
      <!-- SideMenu -->
      <div class="flex">
        <!-- Backdrop -->
        <div
          id="side-bg" 
          onclick="hide_sidemenu()"
          class="fixed z-20 inset-0 bg-black opacity-50 transition-opacity max-3xl:hidden"
        ></div>
        <!-- End Backdrop -->
    
        <div
          id="side-menu"
          class="-translate-x-full ease-in admin-side fixed z-30 inset-y-0 left-0 transition duration-300 transform overflow-y-auto min-lg:translate-x-0 min-lg:static min-lg:inset-0"
        >
          <div class="flex flex-col justify-between h-full">
            <div>
              <img class="cursor-pointer mx-14 max-sm:mx-7 mb-24 max-sm:mb-8" src="../_icons/logo_white.svg" alt="" />
              <div class="admin-side-items">
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/home.svg" alt="" />
                  <span class="text-white">Dashboard</span>
                </div>
                <div class="admin-side-item border-l-4 border-lightgreen">
                  <img class="mr-6" src="../_icons/color_palette.svg" alt="" />
                  <span class="text-white">Themes</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/website.svg" alt="" />
                  <span class="text-white">Landing Pages</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/note.svg" alt="" />
                  <span class="text-white">Resources</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/like.svg" alt="" />
                  <span class="text-white">Reviews</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/close_circled.svg" alt="" />
                  <span class="text-white">FAQ</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/hire.svg" alt="" />
                  <span class="text-white">Jobs</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/people.svg" alt="" />
                  <span class="text-white">Users</span>
                </div>
              </div>    
            </div>
            <img class="w-12 h-12 cursor-pointer mx-14 max-sm:mx-7" src="../_icons/logo_circle.svg" alt="" />
          </div>
        </div>
      </div>
      
      <!-- Main -->
      <div class="admin-main">
        <!-- Header -->
        <div class="admin-header">
          <button
            id="hamburger" onclick="show_sidemenu()"
            class="text-gray-500 focus:outline-none min-lg:hidden"
          >
            <svg
              class="h-6 w-6"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4 6H20M4 12H20M4 18H11"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <div>
            <div class="text-xs text-gray5 mb-2"><span class="text-purple2">Users</span> / New User</div>
            <div class="text-4xl max-sm:text-2xl text-gray5">New User</div>
          </div>
        </div>
  
        <main class="flex-1 overflow-x-hidden overflow-y-auto">
          <!-- Content -->
          <div class="py-8 px-20 max-sm:p-6">
            <form class="w-1/2 max-sm:w-full text-gray5">
              <div class="grid grid-cols-2 max-xl:grid-cols-1 gap-4 mb-4">
                <div>
                  <input 
                    id="first_name"
                    type="text" 
                    class="w-full border border-gray12 rounded-lg px-6 py-2" 
                    placeholder="First Name" autocomplete="given-name"
                    oninput="onTextValidation(event)"
                  />
                  <div id="first_name_required" class="hidden text-red-500 text-left text-xs">required</div>
                </div>
                <div>
                  <input 
                    id="last_name"
                    type="text" 
                    class="w-full border border-gray12 rounded-lg px-6 py-2" 
                    placeholder="Last Name" autocomplete="family-name"
                    oninput="onTextValidation(event)"
                  />
                  <div id="last_name_required" class="hidden text-red-500 text-left text-xs">required</div>
                </div>
              </div>
              <div class="mb-4">
                <select 
                  id="access"
                  class="w-full border border-gray12 rounded-lg px-6 py-2"
                  onchange="onSelectValidation(event)"
                >
                  <option disabled selected value="0">Access</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                </select>
                <div id="access_required" class="hidden text-red-500 text-left text-xs">required</div>
              </div>
              <div class="mb-4">
                <input 
                  id="email_address"
                  type="email" 
                  class="w-full border border-gray12 rounded-lg px-6 py-2" 
                  placeholder="Email Address" autocomplete="email"
                  oninput="onEmail(event)"
                />
                <div id="email_required" class="hidden text-red-500 text-left text-xs">required</div>
                <div id="email_invalid" class="hidden text-red-500 text-left text-xs">invalid email</div>
              </div>
              <div class="mb-10">
                <input 
                  id="password"
                  type="password" 
                  class="w-full border border-gray12 rounded-lg px-6 py-2" 
                  placeholder="Password" 
                  oninput="onTextValidation(event)"
                />
                <div id="password_required" class="hidden text-red-500 text-left text-xs">required</div>
              </div>
              <div>
                <button 
                  type="submit" 
                  class="bg-gray3 hover:bg-purple1 text-white btn max-sm:w-full"
                  onclick="form_submit(event)"
                >
                  Save
                </button>
              </div>
            </form>   
          </div>
        </main>
      </div>
      
    </div>    
  </body>
</html>
<script>
  // Side menu
  function show_sidemenu() {
    var side_bg = document.getElementById("side-bg");
    side_bg.style.display = "block";
    var side_menu = document.getElementById("side-menu");
    side_menu.classList.add("translate-x-0", "ease-out")
    side_menu.classList.remove("-translate-x-full", "ease-in")
  }

  function hide_sidemenu() {
    var side_bg = document.getElementById("side-bg");
    side_bg.style.display = "none";
    var side_menu = document.getElementById("side-menu");
    side_menu.classList.remove("translate-x-0", "ease-out")
    side_menu.classList.add("-translate-x-full", "ease-in")
  }

  // Validation functions
  function required_validation(val) {
    if (val && val.length > 0)
      return true;
    else
      return false;
  }

  function email_validatioin(email) {
    const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
  }

  // Show/hide element
  function setItemDisplay(id, style) {
    if (form_submitted)
      document.getElementById(id).style.display = style;
  }

  var form_submitted = false;
  function get_required_validation(value, id) {
    if (required_validation(value)) {
      setItemDisplay(id, 'none');
      return true;
    } else {
      setItemDisplay(id, 'block');
      return false;
    }
  }

  function get_email_validation(value) {
    if (required_validation(value)) {
      setItemDisplay('email_required', 'none');
      if (email_validatioin(value)) {
        setItemDisplay('email_invalid', 'none');
        return true;
      } else {
        setItemDisplay('email_invalid', 'block');
        return false;
      }
    } else {
      setItemDisplay('email_required', 'block');
      setItemDisplay('email_invalid', 'none');
      return false;
    }
  }

  function onTextValidation(e) {
    var id = e.target.id + "_required";
    get_required_validation(e.target.value, id);
  }  

  function onSelectValidation(e) {
    var id = e.target.id + "_required";
    get_select_validation(e.target.value, id)
  }

  function get_select_validation(value, id) {
    if (value == '0') {
      setItemDisplay(id, 'block');
      return false;
    } else {
      setItemDisplay(id, 'none');
      return true;
    }
  }

  function onEmail(e) {
    get_email_validation(e.target.value);
  }

  function form_submit(e) {
    e.preventDefault();
    form_submitted = true;

    const firstname_valid = get_required_validation(document.getElementById('first_name').value, 'first_name_required');
    const lastname_valid = get_required_validation(document.getElementById('last_name').value, 'last_name_required');
    const access_valid = get_select_validation(document.getElementById('access').value, 'access_required');
    const email_valid = get_email_validation(document.getElementById('email_address').value);
    const password_valid = get_required_validation(document.getElementById('password').value, 'password_required');
    
    if (firstname_valid && lastname_valid && access_valid && password_valid && email_valid) {
      // submit

    }
  }  
</script>
<style>
input::-webkit-input-placeholder {
  color: #898A8D;
}
input:-moz-placeholder {
  color: #898A8D;
}
input::-moz-placeholder {
  color: #898A8D;
}
input:-ms-input-placeholder {
  color: #898A8D;
}    
</style>