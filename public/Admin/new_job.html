<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>New Job</title>
    <script type="text/javascript" src="https://www.bugherd.com/sidebarv2.js?apikey=qsoryock2pvnkksftvyera" async="true"></script>
    <link href="../css/tailwind.css" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/js/froala_editor.pkgd.min.js"></script>
  </head>
  <body>
    <div class="flex h-screen">
      <!-- SideMenu -->
      <div class="flex">
        <!-- Backdrop -->
        <div
          id="side-bg" 
          onclick="hide_sidemenu()"
          class="fixed z-20 inset-0 bg-black opacity-50 transition-opacity max-3xl:hidden"
        ></div>
        <!-- End Backdrop -->
    
        <div
          id="side-menu"
          class="-translate-x-full ease-in admin-side fixed z-30 inset-y-0 left-0 transition duration-300 transform overflow-y-auto min-lg:translate-x-0 min-lg:static min-lg:inset-0"
        >
          <div class="flex flex-col justify-between h-full">
            <div>
              <img class="cursor-pointer mx-14 max-sm:mx-7 mb-24 max-sm:mb-8" src="../_icons/logo_white.svg" alt="" />
              <div class="admin-side-items">
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/home.svg" alt="" />
                  <span class="text-white">Dashboard</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/color_palette.svg" alt="" />
                  <span class="text-white">Themes</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/website.svg" alt="" />
                  <span class="text-white">Landing Pages</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/note.svg" alt="" />
                  <span class="text-white">Resources</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/like.svg" alt="" />
                  <span class="text-white">Reviews</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/close_circled.svg" alt="" />
                  <span class="text-white">FAQ</span>
                </div>
                <div class="admin-side-item admin-side-active">
                  <img class="mr-6" src="../_icons/hire.svg" alt="" />
                  <span class="text-white">Jobs</span>
                </div>
                <div class="admin-side-item">
                  <img class="mr-6" src="../_icons/people.svg" alt="" />
                  <span class="text-white">Users</span>
                </div>
              </div>    
            </div>
            <img class="w-12 h-12 cursor-pointer mx-14 max-sm:mx-7" src="../_icons/logo_circle.svg" alt="" />
          </div>
        </div>
      </div>
      
      <!-- Main -->
      <div class="admin-main">
        <!-- Header -->
        <div class="admin-header">
          <button
            id="hamburger" onclick="show_sidemenu()"
            class="text-gray-500 focus:outline-none min-lg:hidden"
          >
            <svg
              class="h-6 w-6"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M4 6H20M4 12H20M4 18H11"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <div>
            <div class="text-xs pb-2 max-lg:hidden">
              <span class="text-purple2">Jobs</span>
              <span class="text-gray5">/ New Job</span>
            </div>
            <div class="text-4xl max-sm:text-2xl text-gray5 max-lg:pt-6">New Job</div>
          </div>
        </div>
  
        <main class="flex-1 overflow-x-hidden overflow-y-auto">
          <!-- Content -->
          <div class="py-8 px-20 max-sm:p-6">
            <form class="w-full text-gray5">
              <div class="mb-8">
                <input 
                  id="title"
                  type="text" 
                  class="w-full border border-gray12 rounded-lg px-6 py-2" 
                  placeholder="Job Title Here" 
                  oninput="onTextValidation(event)"
                />
                <div id="title_required" class="hidden text-red-500 text-left text-xs">required</div>
              </div>
              <div class="text-gray9 mb-4">Application Type</div>
              <div class="grid grid-cols-2 max-xl:grid-cols-1 gap-4 mb-8">
                <div>
                  <input 
                    id="location"
                    type="text" 
                    class="w-full border border-gray12 rounded-lg px-6 py-2" 
                    placeholder="Location" 
                    oninput="onTextValidation(event)"
                  />
                  <div id="location_required" class="hidden text-red-500 text-left text-xs">required</div>
                </div>
                <div>
                  <input 
                    id="cta_email"
                    type="text" 
                    class="w-full border border-gray12 rounded-lg px-6 py-2" 
                    placeholder="Enter CTA/Email" 
                    oninput="onTextValidation(event)"
                  />
                  <div id="cta_email_required" class="hidden text-red-500 text-left text-xs">required</div>
                </div>
              </div>
              <div id="description" class="mb-10">
              </div>
              <div class="flex items-center gap-6">
                <label>
                  <label class="switch">
                    <input id="live" type="checkbox" onclick="onSwitch()">
                    <span class="slider round"></span>
                  </label>
                  <span id="livetext" class="text-gray3 font-bold">Live</span>
                </label>
                <button 
                  type="submit" 
                  class="bg-gray3 text-white btn hover:bg-gray-500"
                  onclick="form_submit(event)"
                >
                  Save
                </button>
              </div>
            </form>   
          </div>
        </main>
      </div>
      
    </div>    
  </body>
</html>
<script>
  // Side menu
  function show_sidemenu() {
    var side_bg = document.getElementById("side-bg");
    side_bg.style.display = "block";
    var side_menu = document.getElementById("side-menu");
    side_menu.classList.add("translate-x-0", "ease-out")
    side_menu.classList.remove("-translate-x-full", "ease-in")
  }

  function hide_sidemenu() {
    var side_bg = document.getElementById("side-bg");
    side_bg.style.display = "none";
    var side_menu = document.getElementById("side-menu");
    side_menu.classList.remove("translate-x-0", "ease-out")
    side_menu.classList.add("-translate-x-full", "ease-in")
  }

  var editor = new FroalaEditor('#description', {
    toolbarButtons: [
      'fontSize', 'bold', 'italic', 'underline', 'textColor', 'alignLeft', 
      'alignCenter', 'alignRight', 'alignJustify', 'formatOL', 'formatUL',
      'insertImage', 'insertFile', 'insertTable', 'insertLink', 'emoticons'
    ],
    placeholderText: 'Job description',
    height: 300
  });

  // Validation functions
  function required_validation(val) {
    if (val && val.length > 0)
      return true;
    else
      return false;
  }

  // Show/hide element
  function setItemDisplay(id, style) {
    if (form_submitted)
      document.getElementById(id).style.display = style;
  }

  var form_submitted = false;
  function get_required_validation(value, id) {
    if (required_validation(value)) {
      setItemDisplay(id, 'none');
      return true;
    } else {
      setItemDisplay(id, 'block');
      return false;
    }
  }

  function onTextValidation(e) {
    var id = e.target.id + "_required";
    get_required_validation(e.target.value, id);
  }  

  function onSwitch() {
    if (document.getElementById('live').checked) {
      document.getElementById('livetext').style.color = '#44e0b7';
    } else {
      document.getElementById('livetext').style.color = '#898A8D';
    }
  }

  function form_submit(e) {
    e.preventDefault();
    form_submitted = true;

    const title_valid = get_required_validation(document.getElementById('title').value, 'title_required');
    const location_valid = get_required_validation(document.getElementById('location').value, 'location_required');
    const catemail_valid = get_required_validation(document.getElementById('cta_email').value, 'cta_email_required');
    
    if (title_valid && location_valid && catemail_valid) {
      // submit
      editor.html.get(); // value of description
      document.getElementById('live').checked; // live value
    }
  }  
</script>
<style>
input::-webkit-input-placeholder {
  color: #898A8D;
}
input:-moz-placeholder {
  color: #898A8D;
}
input::-moz-placeholder {
  color: #898A8D;
}
input:-ms-input-placeholder {
  color: #898A8D;
}    
</style>